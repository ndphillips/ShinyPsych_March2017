<!DOCTYPE html>
<html>
<head>
  <title>ShinyPsych</title>
  <meta charset="utf-8">
  <meta name="description" content="ShinyPsych">
  <meta name="author" content="Nathaniel Phillips">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>ShinyPsych</h1>
    <h2>Programming online experiments using R and Shiny</h2>
    <p>Nathaniel Phillips<br/>Basel Research Colloquium - March 16, 2017</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>I want to program a study, what software can I use?</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;' class='centered'>
  <ul>
<li>Lab-based study

<ul>
<li>Psychopy (Free, open source)</li>
<li>Presentation (Not free, not open source)</li>
</ul></li>
<li>Online study

<ul>
<li>Survey software: Unipark, Qualtrics, Inquisit (Not Free, not open source)</li>
<li>Custom HTML / JavaScript</li>
</ul></li>
</ul>

</div>
<div style='float:right;width:48%;'>
  <p><img src="images/psychopy.gif" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" width="70%" style="display: block; margin: auto;" /><img src="images/cos.png" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" width="70%" style="display: block; margin: auto;" /></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Comparing online software</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th align="right">Software</th>
<th align="right">Time to Learn</th>
<th align="left">Cost</th>
<th align="left">Customizability</th>
<th align="left">Best Suited for</th>
</tr>
</thead><tbody>
<tr>
<td align="right">UniPark / Qualtrics</td>
<td align="right">Medium</td>
<td align="left">?</td>
<td align="left">Low</td>
<td align="left">Questionnaires</td>
</tr>
<tr>
<td align="right">Inquisit</td>
<td align="right">Medium / Low</td>
<td align="left">?</td>
<td align="left">Medium (?)</td>
<td align="left">Questionnaires, Simple stimuli</td>
</tr>
<tr>
<td align="right">Custom HTML / JavaScript</td>
<td align="right">High</td>
<td align="left">Free</td>
<td align="left">Very High</td>
<td align="left">Complex studies</td>
</tr>
<tr>
<td align="right">Shiny</td>
<td align="right">Medium / High</td>
<td align="left">Free*</td>
<td align="left">High</td>
<td align="left">Complex, statistical stimuli</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>What is Shiny?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Shiny is a web application framework for R.</li>
<li>From the website: Turn your analyses into interactive web applications. No HTML, CSS, or JavaScript knowledge required.</li>
<li>Shiny applications are called &quot;Apps&quot; (aka, experiment)</li>
<li>Shiny Example Gallery: <a href="http://shiny.rstudio.com/gallery/">http://shiny.rstudio.com/gallery/</a></li>
</ul>

<p><img src="images/shinydiagram.png" title="plot of chunk cookmap" alt="plot of chunk cookmap" width="70%" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>What is Shiny?</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;' class='centered'>
  <ul>
<li>Shiny was developed to let people easily make cool, interactive websites with data, not to create experiments.</li>
<li>However, just like psychologists have appropriated the Amazon mTurk for participant recruitment, I think we can also appropriate Shiny to create online experiments.</li>
<li>Over the past few months, I, along with Markus Steiner and Kevin Trutmann (also Janine Hoffart) have been &#39;hacking&#39; Shiny to run experiments.</li>
</ul>

</div>
<div style='float:right;width:48%;'>
  <p><img src="images/mturk.png" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" width="50%" style="display: block; margin: auto;" /><img src="images/steiner.jpg" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" width="50%" style="display: block; margin: auto;" /><img src="images/kevin.jpg" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" width="50%" style="display: block; margin: auto;" /></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Combination of standard R code, and special Shiny R functions that create and manage interactive elements.</li>
<li>Shiny has lots of &#39;widgets&#39; programmed <a href="http://shiny.rstudio.com/gallery/widget-gallery.html">http://shiny.rstudio.com/gallery/widget-gallery.html</a></li>
<li>You can copy widget code, and assign the results to an R object.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">sliderInput(inputId = &quot;prob.est&quot;, 
            label = &quot;What is the probability of X?&quot;, 
            min = 0, 
            max = 100)
</code></pre>

<p>Becomes</p>

<p><img src="images/sliderexample.png" title="plot of chunk unnamed-chunk-5" alt="plot of chunk unnamed-chunk-5" width="60%" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Combination of standard R code, and special Shiny R functions that create and manage interactive elements.</li>
</ul>

<pre><code class="r">h3(&quot;I don&#39;t have to do a lot of thinking&quot;)
radioButtons(inputId = &quot;REI_q1&quot;, 
             label = &quot;1 = Disagree, 5 = Agree&quot;,
             choices = list(1:5))
</code></pre>

<p>Becomes</p>

<p><img src="images/radioexample.png" title="plot of chunk unnamed-chunk-7" alt="plot of chunk unnamed-chunk-7" width="60%" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Once a participant completes an input, the result is stored as an r object you can then use any way you&#39;d like</li>
</ul>

<pre><code class="r"># Store result in prob.est
sliderInput(inputId = &quot;prob.est&quot;, 
            label = &quot;What is the probability of X?&quot;, 
            min = 0, 
            max = 100)

# Use prob.est in other code

true.value &lt;- 33
error &lt;- abs(input$prob.est - true.value)

h3(&quot;Your estimate was off by &quot;, error)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>You don&#39;t program explicit pages, rather, you update what&#39;s in the display based on some criteria:</li>
</ul>

<pre><code class="r"># Definition of welcome page
if(CurrentValues$page == &quot;welcome&quot;) {

  h3(&quot;Welcome to the experiment&quot;),
   textInput(inputId = &quot;workerid&quot;, 
                    label = &quot;Please enter a unique ID that no one else would use&quot;, 
                    value = &quot;&quot;, 
                    placeholder = &quot;e.g.; Cat57Door&quot;),
  # This displays the action putton Next.
  actionButton(inputId = &quot;gt_Instructions&quot;, 
               label = &quot;Continue to Instructions&quot;)

}

observeEvent(input$gt_Instructions, {CurrentValues$page &lt;- &quot;instructions&quot;})
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>You don&#39;t program explicit pages, rather, you update what&#39;s in the display based on some criteria:</li>
</ul>

<pre><code class="r"># Definition of instructions page
if(CurrentValues$page == &quot;instructions&quot;) {

  h3(&quot;Instructions&quot;),
  p(&quot;In this experiment, you will.....&quot;),
  p(&quot;On the next page, you will play a practice game&quot;),
  # This displays the action putton Next.
  actionButton(inputId = &quot;gt_Practice&quot;, 
               label = &quot;Continue to Practice&quot;)
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Example: A simple survey</h2>
  </hgroup>
  <article data-timings="">
    <h3>Go to ShinySurvey</h3>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Randomizing stimuli order is no problem.</li>
<li>You can write &#39;pseudo-loops&#39; to sequentially display questions or other stimuli automatically and then store sequential responses.</li>
</ul>

<pre><code class="r">rei.survey &lt;- list(
  &quot;text&quot; = c(&quot;I don&#39;t like to have to do a lot of thinking&quot;,
             &quot;I try to avoid situations that require thinking in depth about something&quot;,
             &quot;I prefer to do something that challenges my thinking abilities rather than something that requires little thought&quot;,
             &quot;I prefer complex to simple problems&quot;,
             &quot;Thinking hard and for a long time about something gives me little satisfaction&quot;,
             &quot;I trust my initial feelings about people&quot;,
             &quot;I believe in trusting my hunches&quot;,
             &quot;My initial impressions of people are almost always right&quot;,
             &quot;When it comes to trusting people, I can usually rely on my &#39;gut feelings&#39;&quot;,
             &quot;I can usually feel when a person is right or wrong even if I can&#39;t explain how I know&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Programming a Shiny &quot;App&quot;</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>You can write &#39;pseudo-loops&#39; to sequentially display questions or other stimuli automatically and then store sequential responses.</li>
</ul>

<pre><code class="r"># P3) REI
if (CurrentValues$page == &quot;rei&quot;) {
    list(
      h3(paste(rei.survey$text[current.question])),
      em(paste(rei.survey$description)),
      radioButtons(inputId = &quot;rei_survey&quot;, 
                  choices = rei.survey$labels),
      actionButton(inputId = &quot;nextq&quot;, label = &quot;Continue&quot;))
    }

observeEvent(input$nextq, {
    CurrentValues$question.num &lt;- CurrentValues$question.num + 1
    CurrentValues$rei &lt;- c(CurrentValues$rei, input$rei_survey)
  }})
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>3 examples</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th align="left">Task</th>
<th align="left">Link</th>
</tr>
</thead><tbody>
<tr>
<td align="left">BART (Balloon analogue risk task)</td>
<td align="left">Desktop</td>
</tr>
<tr>
<td align="left">Bandit task</td>
<td align="left"><a href="https://econpsychbasel.shinyapps.io/ShinyBandit/">https://econpsychbasel.shinyapps.io/ShinyBandit/</a></td>
</tr>
<tr>
<td align="left">Bandit task with goals</td>
<td align="left"><a href="https://econpsychbasel.shinyapps.io/BanditGame4/">https://econpsychbasel.shinyapps.io/BanditGame4/</a></td>
</tr>
</tbody></table>

<h3>Notes</h3>

<ul>
<li>Data can automatically be uploaded to Dropbox or emailed (I&#39;m pretty sure).</li>
<li>Group experiments are possible! (Thanks Kevin Trutmann!)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>How to run a ShinyApp</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>In order for participants to use your App, it has to be hosted on a Shiny Server.</li>
<li>You can run up to 5 apps for free at RStudio.</li>
<li>3 options for advanced hosting: RStudio Pro ($900 / year), Amazon Web Services, or in-house ($4,500 / year).</li>
<li>If there is enough interest, our IT will set up an in-house server</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Shiny Pros and Cons</h2>
  </hgroup>
  <article data-timings="">
    <h3>Pros</h3>

<ul>
<li>You can integrate all of your data management using R code within the experiment.

<ul>
<li>Great for dynamic experiments where stimuli depend on responses.</li>
</ul></li>
<li>Automatically export data in exactly the format you want to Dropbox.</li>
</ul>

<h3>Cons</h3>

<ul>
<li>Simple things you get for free in Survey software require extra code.

<ul>
<li>Required responses, checking for invalid responses.</li>
</ul></li>
<li>Crashing is, unfortunately, somewhat common.

<ul>
<li>No more than 20 simultaneous users.</li>
</ul></li>
<li>Response time measures are almost certainly not very precise

<ul>
<li>&gt;500ms is probably ok, &lt;500ms is probably not</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>What&#39;s next?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>We are currently programming and documenting standard psychology experiments in Shiny and distributing them at <a href="http://www.github.com/ndphillips/ShinyPsych">http://www.github.com/ndphillips/ShinyPsych</a>.</p></li>
<li><p>Check out the code, play around, let us know what works and what doesn&#39;t, and contribute!</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='I want to program a study, what software can I use?'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Comparing online software'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='What is Shiny?'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='What is Shiny?'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Programming a Shiny &quot;App&quot;'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Programming a Shiny &quot;App&quot;'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Programming a Shiny &quot;App&quot;'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Programming a Shiny &quot;App&quot;'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Programming a Shiny &quot;App&quot;'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Programming a Shiny &quot;App&quot;'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Example: A simple survey'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Programming a Shiny &quot;App&quot;'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Programming a Shiny &quot;App&quot;'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='3 examples'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='How to run a ShinyApp'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Shiny Pros and Cons'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='What&#39;s next?'>
         18
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>